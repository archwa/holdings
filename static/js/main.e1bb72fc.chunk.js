(this.webpackJsonpholdings=this.webpackJsonpholdings||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),s=(a(97),a(11)),o=a(8),c=a(14),u=a(15),h=a(9),m=a(16),d=(a(98),a(35)),g=a(36),p=a(22),y=a(168),f=a(154),b=a(158),v=a(5),E=a(153),k=a(19),S=a.n(k);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=Object(v.a)((function(e){return{root:{color:"white",backgroundColor:E.a[500],"&:hover":{backgroundColor:E.a[700]}}}}))(f.a),_={container:{position:"relative",margin:"10px",textAlign:"center",justifyContent:"center"},textField:{margin:"5px",width:"50%",minWidth:"300px",display:"inline-block"},buttonGroup:{position:"absolute",top:"50%",transform:"translateY(-50%)",display:"inline-block"},button:{height:"100%"}},j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={redirect:{go:!1,location:"/"},value:""},a._handleCompanySearch=a._handleCompanySearch.bind(Object(h.a)(a)),a._handleSymbolSearch=a._handleSymbolSearch.bind(Object(h.a)(a)),a._handleChange=a._handleChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"_handleCompanySearch",value:function(e){var t={company:this.state.value},a=S.a.stringify(t),n=w({},this.state.redirect);n.location="/search?"+a,n.go=!0,console.log(this.state.value),console.log(n),this.setState({redirect:n})}},{key:"_handleSymbolSearch",value:function(e){var t={symbol:this.state.value},a=S.a.stringify(t),n=w({},this.state.redirect);n.location="/search?"+a,n.go=!0,console.log(this.state.value),console.log(n),this.setState({redirect:n})}},{key:"render",value:function(){var e=this.state.redirect.go,t=this.state.redirect.location;return l.a.createElement("div",{style:_.container},l.a.createElement("form",{onSubmit:this._handleCompanySearch},e?l.a.createElement(g.a,{to:t}):null,l.a.createElement(y.a,{onChange:this._handleChange,label:"Search",variant:"outlined",style:_.textField,fullWidth:!0}),l.a.createElement(b.a,{style:_.buttonGroup},l.a.createElement(C,{variant:"contained",onClick:this._handleCompanySearch,style:_.button},"Company"),l.a.createElement(C,{variant:"contained",onClick:this._handleSymbolSearch,style:_.button},"Symbol"))))}}]),t}(l.a.Component),F=a(2),I=a.n(F),P=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).stitch=a.props.stitch,a._searchCompany=a._searchCompany.bind(Object(h.a)(a)),a._searchSymbol=a._searchSymbol.bind(Object(h.a)(a));var n=I.a.get(S.a.parse(I.a.get(a.props,"location.search",null)),"company",null),l=I.a.get(S.a.parse(I.a.get(a.props,"location.search",null)),"symbol",null);return a.state={companyQuery:n,symbolQuery:l,companyResults:null,symbolResults:null,loading:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.stitchInitialized,t=this.state.companyQuery,a=this.state.symbolQuery;e&&t&&this._searchCompany(t),e&&a&&this._searchSymbol(a),e&&!t&&!a&&this.state.loading&&this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(e){var t=this.props.stitchInitialized,a=I.a.get(S.a.parse(I.a.get(this.props,"location.search",null)),"company",null),n=I.a.get(S.a.parse(I.a.get(e,"location.search",null)),"company",null),l=I.a.get(S.a.parse(I.a.get(this.props,"location.search",null)),"symbol",null),r=I.a.get(S.a.parse(I.a.get(e,"location.search",null)),"symbol",null);a!==n&&this.setState({companyQuery:a,companyResults:null}),l!==r&&this.setState({symbolQuery:l,symbolResults:null}),t&&a&&a!==n&&this._searchCompany(a),t&&l&&l!==r&&this._searchSymbol(l)}},{key:"_searchCompany",value:function(e){var t=this;this.setState({loading:!0}),this.stitch.callFunction("searchForCompany",[e]).then((function(e){var a,n,l=I.a.get(e,"data.filerSearch.data",null),r=I.a.get(e,"data.issuerSearch.data",null);n=1!==r.count?I.a.map(r.results,(function(e){return{name:I.a.get(e,"names.0",null),cusip6:I.a.get(e,"cusip6",null)}})):[{name:I.a.get(r,"results.data.issuer_names.0",null),cusip6:I.a.get(r,"results.data.issuer_cusip6",null)}],a=1!==l.count?I.a.map(l.results,(function(e){return{name:I.a.get(e,"name",null),cik:I.a.get(e,"cik",null)}})):[{name:I.a.get(l,"results.data.filer_names.0",null),cik:I.a.get(l,"results.data.filer_cik",null)}];var i=I.a.reduce(n,(function(e,t){var a=e,n=I.a.get(t,"name",null);return a[n]?a[n].holders||(a[n].holders=I.a.get(t,"cusip6",null)):a[n]={holders:I.a.get(t,"cusip6",null)},a}),{}),s=I.a.reduce(a,(function(e,t){var a=e,n=I.a.get(t,"name",null);return a[n]?a[n].holdings||(a[n].holdings=I.a.get(t,"cik",null)):a[n]={holdings:I.a.get(t,"cik",null)},a}),{}),o=I.a.merge(i,s);console.log(e),t.setState({loading:!1,companyResults:o})})).catch((function(e){console.error(e),t.setState({loading:!1})}))}},{key:"_searchSymbol",value:function(e){var t=this;this.setState({loading:!0}),console.log(e),this.stitch.callFunction("searchForSymbol",[e]).then((function(e){if(console.log(e),e.status||e.data){var a=I.a.get(e,"data",null),n=I.a.get(a,"symbol.symbol",null),l=I.a.get(a,"holdersView",null),r=I.a.get(a,"holdingsView",null),i=r?{name:I.a.get(r,"data.filer_names.0",null),cik:I.a.get(r,"data.filer_cik",null)}:null,s=l?{name:I.a.get(l,"data.issuer_names.0",null),cusip6:I.a.get(l,"data.issuer_cusip6",null)}:null,o={name:i?i.name:s?s.name:n,symbol:n,holdings:i?I.a.get(i,"cik",null):null,holders:s?I.a.get(s,"cusip6",null):null};t.setState({loading:!1,symbolResults:o})}else t.setState({loading:!1,symbolResults:null})})).catch((function(e){console.error(e),t.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state.loading,t=this.state.companyResults,a=this.state.symbolResults,n=this.state.companyQuery,r=this.state.symbolQuery;return l.a.createElement("div",null,e||n||r?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"Please provide a search query."),!e&&(n||r)&&I.a.isEmpty(t)&&I.a.isEmpty(a)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),function(){var e="No results";return n&&(e+=' for company query "'.concat(n,'"')),n&&r&&(e+=" or"),r&&(e+=' for symbol query "'.concat(r,'"')),e+="."}()):null,e&&(n||r)?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"One moment please ..."):null,I.a.isEmpty(t)||e?null:l.a.createElement("div",{style:{textAlign:"left",margin:"10px"}},l.a.createElement("h2",null,"Company Results"),l.a.createElement("ul",null,I.a.reduce(t,(function(e,t,a){var n=l.a.createElement("li",{key:a.toString()},l.a.createElement("strong",null,a.toString())," : ",t.holders?l.a.createElement(d.b,{to:"/holders/"+t.holders.toString()},"Holders"):null,t.holders&&t.holdings?" | ":null,t.holdings?l.a.createElement(d.b,{to:"/holdings/"+t.holdings.toString()},"Holdings"):null,t.holders||t.holdings?null:"No holders or holdings views available.");return I.a.concat(e,n)}),[]))),I.a.isEmpty(a)||e?null:l.a.createElement("div",{style:{textAlign:"left",margin:"10px"}},l.a.createElement("h2",null,"Symbol Results"),l.a.createElement("ul",null,function(){var e=I.a.get(a,"name",null),t=I.a.get(a,"symbol",null),n=I.a.get(a,"holders",null),r=I.a.get(a,"holdings",null);return console.log(a),l.a.createElement("li",{key:e},l.a.createElement("strong",null,e+" ( "+t+" )")," : ",n?l.a.createElement(d.b,{to:"/holders/"+n},"Holders"):null,n&&r?" | ":null,r?l.a.createElement(d.b,{to:"/holdings/"+r},"Holdings"):null,n||r?null:"No holders or holdings views available.")}())))}}]),t}(l.a.Component),D=a(157),x=a(160),H=a(46),q=a.n(H),A=a(48),W=a.n(A),M=a(47),z=a.n(M),R=a(45),N=a.n(R),T=a(159),L=a(28),Q=a(161),U=a(165),B=a(164),K=a(162),V=a(167),J=a(163),Y=a(169),G=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).stitch=a.props.stitch,a._getHoldings=a._getHoldings.bind(Object(h.a)(a)),a._handleChange=a._handleChange.bind(Object(h.a)(a));var n=I.a.get(a.props,"match.params.cik",null),l=I.a.get(S.a.parse(I.a.get(a.props,"location.search",null)),"cik",null),r=n||l;return a.state={holdings:null,cik:r,loading:!0,tableInfo:{page:0,rowsPerPage:10},currentOnly:!1,tableDense:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.cik;this.props.stitchInitialized&&e?this._getHoldings(e):this.props.stitchInitialized&&this.state.loading&&this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(e){if(this.props.stitchInitialized){var t,a,n=I.a.get(this.props,"match.params.cik",null),l=I.a.get(e,"match.params.cik",null),r=I.a.get(S.a.parse(I.a.get(this.props,"location.search",null)),"cik",null),i=I.a.get(S.a.parse(I.a.get(e,"location.search",null)),"cik",null);if(n||r)n?(t=n,a=l):r&&(t=r,a=i),t!==a&&this._getHoldings(t)}}},{key:"_handleChange",value:function(e,t){"current_only"===t&&this.setState({currentOnly:e.target.checked}),"table_density"===t&&this.setState({tableDense:e.target.checked})}},{key:"_getHoldings",value:function(e){var t=this,a=e.toString();if(a.length<=10){var n=a.padStart(10,"0");this.stitch.callFunction("getHoldingsForFiler",[n]).then((function(e){var a,n=I.a.get(e,"data.holdings",null);n&&(a=I.a.map(n,(function(e,t){return{name:I.a.get(e,"issuer_names.0",null),cusip6:I.a.get(e,"cusip6",null),cusip9:I.a.get(e,"cusip9",null),from:I.a.get(e,"from.year")+"q"+I.a.get(e,"from.quarter"),to:I.a.get(e,"to.year")+"q"+I.a.get(e,"to.quarter"),ownership_length:I.a.get(e,"ownership_length"),key:I.a.get(e,"cusip6","")+t.toString()}}))),I.a.isEmpty(a)&&(a=null),t.setState({holdings:a,loading:!1,filer_names:I.a.get(e,"data.filer_names",null)})})).catch((function(e){t.setState({loading:!1}),console.error(e)}))}else this.setState({loading:!1,cik:a})}},{key:"render",value:function(){var e=this,t=Object(T.a)({root:{width:"100%"},tableWrapper:{maxHeight:440,overflow:"auto"}}),a=[{id:"name",label:"Issuer Name",minWidth:170},{id:"from",label:"From",minWidth:70,format:function(e){return e.toLocaleString()},align:"right"},{id:"to",label:"To",minWidth:70,align:"right"},{id:"ownership_length",label:"Ownership Length (Quarters)",minWidth:70,align:"right"}],n=Object(T.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));var r=this.state.tableInfo.rowsPerPage,i=this.state.tableInfo.page,s=this.state.loading,o=new Date,c=o.getFullYear(),u=1+~~((o.getMonth()+1)/3),h=this.state.currentOnly,m=I.a.filter(this.state.holdings,(function(e){return e.name&&e.cusip6&&e.cusip9}));h&&(m=I.a.filter(m,(function(e){var t=parseInt(I.a.get(e,"to","0000q0").substring(0,4)),a=parseInt(I.a.get(e,"to","0000q0").substring(5,6));return Math.abs(c-t)?1===Math.abs(c-t)&&1===u&&4===a:Math.abs(u-a)<=1})));var d=this.state.cik,g=0;m&&m.length&&(g=I.a.reduce(I.a.map(m,(function(e){return e.ownership_length})),(function(e,t){return e+t}),0)/m.length,g=Math.round(1e3*g)/1e3);var p=I.a.get(this.state,"filer_names.0",null),y=this.state.tableDense;return l.a.createElement(l.a.Fragment,null,s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"One moment please ..."):null,s||m?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),'No results for requested CIK "'.concat(d,'"!')),s||!m?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"block",width:"100%",textAlign:"center",fontFamily:"raleway"}},l.a.createElement("h1",null,p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",fontFamily:"Courier New",textAlign:"right",margin:"10px"}},l.a.createElement("div",null,l.a.createElement("strong",null,"Average length of ownership"),": ",g," quarters (",Math.round(1e3*g/4)/1e3," years)"),l.a.createElement("div",null,"Show current holdings only ",l.a.createElement(Y.a,{checked:h,onChange:function(t){return e._handleChange(t,"current_only")},color:"primary"})),l.a.createElement("div",null,"Dense table padding",l.a.createElement(Y.a,{checked:y,onChange:function(t){return e._handleChange(t,"table_density")},color:"primary"}))),l.a.createElement(D.a,{className:t.root,style:{display:"block",width:"100%"}},l.a.createElement("div",{className:t.tableWrapper},l.a.createElement(Q.a,{size:y?"small":"medium",stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(K.a,null,l.a.createElement(J.a,null,a.map((function(e){return l.a.createElement(B.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontFamily:"Courier New"}},l.a.createElement("strong",null,e.label))})))),l.a.createElement(U.a,null,m?m.slice(i*r,i*r+r).map((function(e){return l.a.createElement(J.a,{hover:!0,tabIndex:-1,key:e.key},a.map((function(t){var a=e[t.id];return l.a.createElement(B.a,{key:t.id,align:t.align,style:{fontFamily:"Courier New"}},t.format&&"number"===typeof a?t.format(a):a)})))})):null))),l.a.createElement(V.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:m?m.length:0,rowsPerPage:r,page:i,onChangePage:function(t,a){var n=e.state.tableInfo;n.page=a,e.setState({tableInfo:n})},onChangeRowsPerPage:function(t){var a=e.state.tableInfo;a.page=0,a.rowsPerPage=+t.target.value,e.setState({tableInfo:a})},ActionsComponent:function(e){var t=n(),a=Object(L.a)(),r=e.count,i=e.page,s=e.rowsPerPage,o=e.onChangePage;return l.a.createElement("div",{className:t.root},l.a.createElement(x.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page"},"rtl"===a.direction?l.a.createElement(N.a,null):l.a.createElement(q.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page"},"rtl"===a.direction?l.a.createElement(z.a,null):l.a.createElement(W.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(r/s)-1,"aria-label":"next page"},"rtl"===a.direction?l.a.createElement(W.a,null):l.a.createElement(z.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/s)-1))},disabled:i>=Math.ceil(r/s)-1,"aria-label":"last page"},"rtl"===a.direction?l.a.createElement(q.a,null):l.a.createElement(N.a,null)))}}))))}}]),t}(l.a.Component),Z=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).stitch=a.props.stitch,a._getHolders=a._getHolders.bind(Object(h.a)(a)),a._handleChange=a._handleChange.bind(Object(h.a)(a));var n=I.a.get(a.props,"match.params.cusip",null),l=I.a.get(S.a.parse(I.a.get(a.props,"location.search",null)),"cusip",null),r=n||l;return a.state={holders:null,cusip:r,loading:!0,tableInfo:{page:0,rowsPerPage:10},currentOnly:!1,tableDense:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.cusip;this.props.stitchInitialized&&e?this._getHolders(e):this.props.stitchInitialized&&this.state.loading&&this.setState({loading:!1})}},{key:"componentDidUpdate",value:function(e){if(this.props.stitchInitialized){var t,a,n=I.a.get(this.props,"match.params.cusip",null),l=I.a.get(e,"match.params.cusip",null),r=I.a.get(S.a.parse(I.a.get(this.props,"location.search",null)),"cusip",null),i=I.a.get(S.a.parse(I.a.get(e,"location.search",null)),"cusip",null);if(n||r)n?(t=n,a=l):r&&(t=r,a=i),t!==a&&this._getHolders(t)}}},{key:"_handleChange",value:function(e,t){"current_only"===t&&this.setState({currentOnly:e.target.checked}),"table_density"===t&&this.setState({tableDense:e.target.checked})}},{key:"_handleChangeDensity",value:function(e){}},{key:"_getHolders",value:function(e){var t=this,a=e.toString();if(a.length>=6){var n=e.substr(0,6);this.stitch.callFunction("getHoldersForIssuer",[n]).then((function(e){var a,n=I.a.get(e,"data.holdings",null);n&&(a=I.a.map(n,(function(e,t){return{name:I.a.get(e,"filer_names.0",null),cik:I.a.get(e,"cik",null),cusip9:I.a.get(e,"cusip9",null),from:I.a.get(e,"from.year")+"q"+I.a.get(e,"from.quarter"),to:I.a.get(e,"to.year")+"q"+I.a.get(e,"to.quarter"),ownership_length:I.a.get(e,"ownership_length"),key:I.a.get(e,"cik","")+t.toString()}}))),I.a.isEmpty(a)&&(a=null),t.setState({holders:a,loading:!1,issuer_names:I.a.get(e,"data.issuer_names",null)})})).catch((function(e){t.setState({loading:!1}),console.error(e)}))}else this.setState({loading:!1,cusip:a})}},{key:"render",value:function(){var e=this,t=Object(T.a)({root:{width:"100%"},tableWrapper:{maxHeight:440,overflow:"auto"}}),a=[{id:"name",label:"Holder Name",minWidth:170},{id:"from",label:"From",minWidth:70,format:function(e){return e.toLocaleString()},align:"right"},{id:"to",label:"To",minWidth:70,align:"right"},{id:"ownership_length",label:"Ownership Length (Quarters)",minWidth:170,align:"right"}],n=Object(T.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));var r=this.state.tableInfo.rowsPerPage,i=this.state.tableInfo.page,s=this.state.loading,o=new Date,c=o.getFullYear(),u=1+~~((o.getMonth()+1)/3),h=this.state.currentOnly,m=I.a.filter(this.state.holders,(function(e){return e.name&&e.cik&&e.cusip9}));h&&(m=I.a.filter(m,(function(e){var t=parseInt(I.a.get(e,"to","0000q0").substring(0,4)),a=parseInt(I.a.get(e,"to","0000q0").substring(5,6));return Math.abs(c-t)?1===Math.abs(c-t)&&1===u&&4===a:Math.abs(u-a)<=1})));var d=this.state.cusip,g=0;m&&m.length&&(g=I.a.reduce(I.a.map(m,(function(e){return e.ownership_length})),(function(e,t){return e+t}),0)/m.length,g=Math.round(1e3*g)/1e3);var p=I.a.get(this.state,"issuer_names.0",null),y=this.state.tableDense;return l.a.createElement(l.a.Fragment,null,s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"One moment please ..."):null,s||m?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),'No results for requested CUSIP "'.concat(d,'"!')),s||!m?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"block",width:"100%",textAlign:"center",fontFamily:"raleway"}},l.a.createElement("h1",null,p)),l.a.createElement("div",{style:{display:"flex",flexDirection:"column",fontFamily:"Courier New",textAlign:"right",margin:"10px"}},l.a.createElement("div",null,l.a.createElement("strong",null,"Average length of ownership"),": ",g," quarters (",Math.round(1e3*g/4)/1e3," years)"),l.a.createElement("div",null,"Show current holders only ",l.a.createElement(Y.a,{checked:h,onChange:function(t){return e._handleChange(t,"current_only")},color:"primary"})),l.a.createElement("div",null,"Dense table padding",l.a.createElement(Y.a,{checked:y,onChange:function(t){return e._handleChange(t,"table_density")},color:"primary"}))),l.a.createElement(D.a,{className:t.root,style:{display:"block",width:"100%"}},l.a.createElement("div",{className:t.tableWrapper},l.a.createElement(Q.a,{size:y?"small":"medium",stickyHeader:!0,"aria-label":"sticky table"},l.a.createElement(K.a,null,l.a.createElement(J.a,null,a.map((function(e){return l.a.createElement(B.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth,fontFamily:"Courier New"}},l.a.createElement("strong",null,e.label))})))),l.a.createElement(U.a,null,m?m.slice(i*r,i*r+r).map((function(e){return l.a.createElement(J.a,{hover:!0,tabIndex:-1,key:e.key},a.map((function(t){var a=e[t.id];return l.a.createElement(B.a,{key:t.id,align:t.align,style:{fontFamily:"Courier New"}},t.format&&"number"===typeof a?t.format(a):a)})))})):null))),l.a.createElement(V.a,{rowsPerPageOptions:[10,25,50,100],component:"div",count:m?m.length:0,rowsPerPage:r,page:i,onChangePage:function(t,a){var n=e.state.tableInfo;n.page=a,e.setState({tableInfo:n})},onChangeRowsPerPage:function(t){var a=e.state.tableInfo;a.page=0,a.rowsPerPage=+t.target.value,e.setState({tableInfo:a})},ActionsComponent:function(e){var t=n(),a=Object(L.a)(),r=e.count,i=e.page,s=e.rowsPerPage,o=e.onChangePage;return l.a.createElement("div",{className:t.root},l.a.createElement(x.a,{onClick:function(e){o(e,0)},disabled:0===i,"aria-label":"first page"},"rtl"===a.direction?l.a.createElement(N.a,null):l.a.createElement(q.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,i-1)},disabled:0===i,"aria-label":"previous page"},"rtl"===a.direction?l.a.createElement(z.a,null):l.a.createElement(W.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,i+1)},disabled:i>=Math.ceil(r/s)-1,"aria-label":"next page"},"rtl"===a.direction?l.a.createElement(W.a,null):l.a.createElement(z.a,null)),l.a.createElement(x.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(r/s)-1))},disabled:i>=Math.ceil(r/s)-1,"aria-label":"last page"},"rtl"===a.direction?l.a.createElement(q.a,null):l.a.createElement(N.a,null)))}}))))}}]),t}(l.a.Component),X=a(40),$=a.n(X),ee=a(61),te=a(155),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={loading:!0,status:0,inputValue:""},a.stitch=new ye,a._handleInputChange=a._handleInputChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"_handleClick",value:function(e){var t=this.state.inputValue;switch(e){case"company":this.stitch.callFunction("searchForCompany",[t]).then((function(e){return console.log(e),{companySearchResult:e}})).catch((function(e){console.log(e)}));break;case"symbol":this.stitch.callFunction("searchForSymbol",[t]).then((function(e){return console.log(e),{symbolSearchResult:e}})).catch((function(e){console.log(e)}))}}},{key:"componentDidMount",value:function(){var e=this;this.stitch.init().then((function(){e.setState({loading:!1,status:0})})).catch((function(t){console.log(t),e.setState({loading:!1,status:-1})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:ne.container},l.a.createElement(te.a,{disabled:this.state.loading,error:this.state.error,placeholder:"Search by ...",style:ne.input,value:this.state.inputValue,onChange:this._handleInputChange}),l.a.createElement(b.a,null,l.a.createElement(f.a,{disabled:this.state.loading,onClick:function(){return e._handleClick("company")}},"Company"),l.a.createElement(f.a,{disabled:this.state.loading,onClick:function(){return e._handleClick("symbol")}},"Symbol")))}}]),t}(l.a.Component),ne={container:{},button:{},input:{margin:5}},le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._handleSort=function(e){return function(){var t=a.state,n=t.column,l=t.direction;n!==e?a.setState({column:e,direction:"ascending",data:I.a.sortBy(a.state.data,[e])}):a.setState({direction:"ascending"===l?"descending":"ascending",data:a.state.data.reverse()})}},a.state={column:null,direction:null,data:a.props.results.data,rawData:a.props.results.data},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){I.a.isEqual(this.props.results.data,this.state.rawData)||this.setState({data:this.props.results.data,rawData:this.props.results.data})}},{key:"render",value:function(){var e=this,t=this.state,a=t.column,n=t.direction,r=t.data,i={name:"Name",cik:"CIK",from:"From",to:"To",quarters:"Quarters"};return l.a.createElement("div",{style:re.container},l.a.createElement(Q.a,null,l.a.createElement(K.a,null,l.a.createElement(J.a,null,I.a.map(["name","cik","from","to","quarters"],(function(t){return l.a.createElement(B.a,{key:t,sorted:a===t?n:null,onClick:e._handleSort(t)},i[t])})))),l.a.createElement(U.a,null,I.a.map(r,(function(e,t){var a=e.name,n=e.cik,r=e.from,i=e.to,s=e.quarters;return l.a.createElement(J.a,{key:I.a.join([n,"-",t],"")},l.a.createElement(B.a,null,l.a.createElement("code",null,a)),l.a.createElement(B.a,null,l.a.createElement("code",null,n)),l.a.createElement(B.a,null,l.a.createElement("code",null,r)),l.a.createElement(B.a,null,l.a.createElement("code",null,i)),l.a.createElement(B.a,null,l.a.createElement("code",null,s)))})))))}}]),t}(l.a.Component),re={container:{margin:20}},ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e)))._handleSort=function(e){return function(){var t=a.state,n=t.column,l=t.direction;n!==e?a.setState({column:e,direction:"ascending",data:I.a.sortBy(a.state.data,[e])}):a.setState({direction:"ascending"===l?"descending":"ascending",data:a.state.data.reverse()})}},a.state={column:null,direction:null,data:a.props.results.data.filerSearch.data.results.data.holdings,rawResults:a.props.results.data.filerSearch.data.results.data.holdings},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){I.a.isEqual(this.props.results,this.state.rawResults)||this.setState({data:this.props.results.data,rawResults:this.props.results})}},{key:"render",value:function(){var e=this,t=this.state,a=t.column,n=t.direction,r=t.data,i={name:"Name",cusip:"CUSIP",from:"From",to:"To",quarters:"Quarters"};return l.a.createElement("div",{style:se.container},l.a.createElement(Q.a,null,l.a.createElement(K.a,null,l.a.createElement(J.a,null,I.a.map(["name","cusip","from","to","quarters"],(function(t){return l.a.createElement(B.a,{key:t,sorted:a===t?n:null,onClick:e._handleSort(t)},i[t])})))),l.a.createElement(U.a,null,I.a.map(r,(function(e,t){var a=e.names,n=e.cusip6,r=e.from,i=e.to,s=e.ownership_length;return l.a.createElement(J.a,{key:I.a.join([n,"-",t],"")},l.a.createElement(B.a,null,l.a.createElement("code",null,a[0])),l.a.createElement(B.a,null,l.a.createElement("code",null,n)),l.a.createElement(B.a,null,l.a.createElement("code",null,r.year,"q",r.quarter)),l.a.createElement(B.a,null,l.a.createElement("code",null,i.year,"q",i.quarter)),l.a.createElement(B.a,null,l.a.createElement("code",null,s)))})))))}}]),t}(l.a.Component),se={container:{margin:20}},oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:a.props.results.data,rawData:a.props.results.data},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){I.a.isEqual(this.props.results.data,this.state.rawData)||this.setState({data:this.props.results.data,rawData:this.props.results.data})}},{key:"render",value:function(){var e=this.state.data;return l.a.createElement("div",{style:ce.container},l.a.createElement(Q.a,null,l.a.createElement(U.a,null,l.a.createElement(J.a,{key:"total"},l.a.createElement(B.a,null,l.a.createElement("strong",null,"Total Positions Found")),l.a.createElement(B.a,null,l.a.createElement("code",null,e.positionsCount))),l.a.createElement(J.a,{key:"year"},l.a.createElement(B.a,null,l.a.createElement("strong",null,"Average Time Held of All Positions (Years)")),l.a.createElement(B.a,null,l.a.createElement("code",null,Math.round(1e3*e.averageLengthOfStockOwnership.years)/1e3))),l.a.createElement(J.a,{key:"quarters"},l.a.createElement(B.a,null,l.a.createElement("strong",null,"Average Time Held of All Positions (Quarters)")),l.a.createElement(B.a,null,l.a.createElement("code",null,Math.round(1e3*e.averageLengthOfStockOwnership.quarters)/1e3))))))}}]),t}(l.a.Component),ce={container:{margin:20}},ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={results:a.props.results},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){I.a.isEqual(this.props.results,this.state.results)||this.setState({results:this.props.results})}},{key:"render",value:function(){var e=this.state.results;return l.a.createElement("div",{style:he.container},I.a.get(e,"companySearchResult",-1)?null:l.a.createElement(l.a.Fragment,null,"Showing results for fund ",l.a.createElement("strong",null,l.a.createElement("code",null,'"',I.a.get(e,"companySearchResult.data.filerSearch.data.count",""),'" (CIK : ',I.a.get(e,"companySearchResult.data.filerSearch.data.count",""),")"))),I.a.get(e,"searchForCompany.status",-1)?null:l.a.createElement(l.a.Fragment,null,"Showing results for company ",l.a.createElement("strong",null,l.a.createElement("code",null,'"',I.a.get(e,"searchForCompany.data.name",""),'" (CUSIP : ',I.a.get(e,"searchForCompany.data.cusip",""),")"))),I.a.get(e,"getAverageTimePositionsHeldForFund.status",-1)?null:l.a.createElement(oe,{results:e.getAverageTimePositionsHeldForFund}),I.a.get(e,"companySearchResult.status",-1)?null:l.a.createElement(ie,{results:e.companySearchResult}),I.a.get(e,"symbolSearchResult.status",-1)?null:l.a.createElement(le,{results:e.symbolSearchResult}))}}]),t}(l.a.Component),he={container:{margin:20}},me=(l.a.Component,a(120)),de=me.Stitch,ge=me.RemoteMongoClient,pe=me.UserApiKeyCredential,ye=function(){function e(){Object(s.a)(this,e),this.db={},this.sc={}}return Object(o.a)(e,[{key:"init",value:function(){var e=Object(ee.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.initClientForAppId("filings-uypee"),e.next=4,this.loginUsingApiKey("pv8Ad54AZcKhdyV13AjL0522JOMTGR3H95FKraLkD7iQWJKTdBOoVuE3x8JhIvB8");case 4:return e.next=6,this.initServiceClient("mongodb-atlas");case 6:return t=e.sent,e.next=9,this.initDBFromServiceClient("filings",t);case 9:return e.abrupt("return",0);case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"initClientForAppId",value:function(e){this.client=de.initializeDefaultAppClient(e)}},{key:"loginUsingApiKey",value:function(e){var t=new pe("pv8Ad54AZcKhdyV13AjL0522JOMTGR3H95FKraLkD7iQWJKTdBOoVuE3x8JhIvB8");return this.client.auth.loginWithCredential(t).then((function(e){return console.log("Logged into Stitch client as API user (server) with id: ".concat(e.id)),e})).catch((function(e){return console.error(e),e}))}},{key:"initServiceClient",value:function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.getServiceClient(ge.factory,t);case 2:return this.sc[t]=e.sent,e.abrupt("return",this.sc[t]);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initDBFromServiceClient",value:function(){var e=Object(ee.a)($.a.mark((function e(t,a){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.db(t);case 2:return this.db[t]=e.sent,e.abrupt("return",this.db[t]);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"callFunction",value:function(e,t){return this.client.callFunction(e,t).catch((function(e){return console.error(e),e}))}}]),e}(),fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={window:{width:0,height:0},stitchInitialized:!1,loading:!0},a.stitch=new ye,a._updateWindowDimensions=a._updateWindowDimensions.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_updateWindowDimensions",value:function(){this.setState({window:{width:window.innerWidth,height:window.innerHeight}})}},{key:"componentDidMount",value:function(){var e=this;this._updateWindowDimensions(),window.addEventListener("resize",this._updateWindowDimensions),console.log("Initializing Stitch ..."),this.stitch.init().then((function(t){t?(console.error("Stitch initialization error:",t),e.setState({stitchInitialized:!1,loading:!1})):(console.log("Stitch initialization complete!"),e.setState({stitchInitialized:!0,loading:!1}))})).catch((function(t){console.error("Stitch initialization error:",t),e.setState({stitchInitialized:!1,loading:!1})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._updateWindowDimensions)}},{key:"render",value:function(){var e=this;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"App-body"},this.state.stitchInitialized||this.state.loading?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"Error connecting to MongoDB Stitch!"),!this.state.stitchInitialized&&this.state.loading?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{minHeight:"30vh"}}),"Connecting to MongoDB Stitch server ..."):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.d,null,l.a.createElement(g.b,{path:"/",exact:!0,render:function(e){return l.a.createElement("div",{className:"Welcome"},l.a.createElement("h2",null,"Welcome to the Holdings Analysis tool!"),l.a.createElement("strong",null,"Search tips:"),l.a.createElement("ol",null,l.a.createElement("li",null,"Search tokens match by a logical ",l.a.createElement("strong",null,"OR"),".  Ex: ",l.a.createElement("strong",null,"tech media consulting firm")," yields results matching any of those words."),l.a.createElement("li",null,"To search by exact phrase, use double quotes (",'"',").  Ex: ",l.a.createElement("strong",null,'"apple computer"')," yields results matching ",l.a.createElement("strong",null,"apple computer")," EXACTLY."),l.a.createElement("li",null,"To exclude a term, prepend that term with a hyphen (","-",").  Ex: ",l.a.createElement("strong",null,"apple -computer")," yields results matching ",l.a.createElement("strong",null,"apple")," but NOT ",l.a.createElement("strong",null,"computer"),".")))}})),l.a.createElement(j,null),l.a.createElement(g.d,null,l.a.createElement(g.b,{path:"/search/:search?",render:function(t){return l.a.createElement(P,Object.assign({},t,{stitch:e.stitch,stitchInitialized:e.state.stitchInitialized}))}}),l.a.createElement(g.b,{path:"/holdings/:cik?",render:function(t){return l.a.createElement(G,Object.assign({},t,{stitch:e.stitch,stitchInitialized:e.state.stitchInitialized}))}}),l.a.createElement(g.b,{path:"/holders/:cusip?",render:function(t){return l.a.createElement(Z,Object.assign({},t,{stitch:e.stitch,stitchInitialized:e.state.stitchInitialized}))}}))))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},92:function(e,t,a){e.exports=a(121)},97:function(e,t,a){},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.e1bb72fc.chunk.js.map